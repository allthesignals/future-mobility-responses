"use strict"
define("future-mobility-responses/app",["exports","future-mobility-responses/resolver","ember-load-initializers","future-mobility-responses/config/environment"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0})
var o=Ember.Application.extend({modulePrefix:n.default.modulePrefix,podModulePrefix:n.default.podModulePrefix,Resolver:t.default});(0,r.default)(o,n.default.modulePrefix),e.default=o}),define("future-mobility-responses/components/-ea-list-element",["exports","ember-animated/components/ea-list-element"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-beacon",["exports","ember-animated/components/animated-beacon"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-container",["exports","ember-animated/components/animated-container"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-each",["exports","ember-animated/components/animated-each"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-if",["exports","ember-animated/components/animated-if"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-orphans",["exports","ember-animated/components/animated-orphans"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/animated-value",["exports","ember-animated/components/animated-value"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/answer-type-label",["exports","@ember-decorators/component","@ember-decorators/object"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n,o,i,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var l,s,c,f,p,d,m=(n=(0,t.classNames)("label"),o=(0,r.computed)("label.{x,y}"),n((a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),u(t,[{key:"style",get:function(){var e=this.get("label"),t=e.x,r=e.y
return Ember.String.htmlSafe("left: "+t+"px; top: "+r+"px;")}}]),t}(),l=a.prototype,s="style",c=[o,t.attribute],f=Object.getOwnPropertyDescriptor(a.prototype,"style"),p=a.prototype,d={},Object.keys(f).forEach(function(e){d[e]=f[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=c.slice().reverse().reduce(function(e,t){return t(l,s,e)||e},d),p&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(p):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,s,d),d=null),i=a))||i)
e.default=m}),define("future-mobility-responses/components/cddl-navigation",["exports","@ember-decorators/object","@ember-decorators/component"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CATEGORIES=void 0
var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i,a,u=function e(t,r,n){null===t&&(t=Function.prototype)
var o=Object.getOwnPropertyDescriptor(t,r)
if(void 0===o){var i=Object.getPrototypeOf(t)
return null===i?void 0:e(i,r,n)}if("value"in o)return o.value
var a=o.get
return void 0!==a?a.call(n):void 0}
function l(e,t,r,n,o){var i={}
return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var s=e.CATEGORIES=["car","commute","people","environ","safety","ethics","money","time","robots","time"].map(function(e,t){return{label:e,id:t+3}}),c=(0,r.classNames)("cddl-navigation")((l((a=function(e){function t(){var e,r,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u]
return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.categories=s,n.opened=!1,o(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),n(t,[{key:"handleToggleClick",value:function(){this.toggleProperty("isSortedByCategory")}},{key:"showCat",value:function(e){var t=this
this.get("visualization").showCat(e,function(e){t.set("labelCenters",e)})}},{key:"init",value:function(){for(var e,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this)).call.apply(e,[this].concat(n)),Ember.$.fn.circleNav=function(e){var t=Ember.$.extend({},Ember.$.fn.circleNav.settings,e)
return this.each(function(){var e=Ember.$(this),r=Ember.$(".circle-nav-toggle"),n=Ember.$(".circle-nav-panel"),o=Ember.$(".circle-nav-menu")
Ember.$("body").append("<div class='circle-nav-overlay'></div>"),Ember.$(".circle-nav-overlay").css({top:"0",right:"0",bottom:"0",left:"0",position:"fixed","background-color":t.overlayColor,opacity:t.overlayOpacity,"z-index":"-1",display:"none"}),Ember.$(".circle-nav-toggle, .circle-nav-overlay").on("click",function(){e.stop().toggleClass("circle-nav-open"),r.stop().toggleClass("circle-nav-open"),n.stop().toggleClass("circle-nav-open"),o.stop().toggleClass("circle-nav-open"),Ember.$(".circle-nav-overlay").fadeToggle(),Ember.$("body").css("overflow")?Ember.$("body, html").css("overflow",""):Ember.$("body, html").css("overflow","hidden")})})},Ember.$.fn.circleNav.settings={hasOverlay:!0,overlayColor:"#fff",overlayOpacity:".0"}}},{key:"didInsertElement",value:function(){for(var e,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"didInsertElement",this)).call.apply(e,[this].concat(n)),Ember.$("#circle-nav-wrapper").circleNav(),Ember.$("#toggle").click(function(){Ember.$(".answer-container div").removeClass("selected"),Ember.$("#car-container div").removeClass("container-shift")})}}]),t}()).prototype,"handleToggleClick",[t.action],Object.getOwnPropertyDescriptor(a.prototype,"handleToggleClick"),a.prototype),l(a.prototype,"showCat",[t.action],Object.getOwnPropertyDescriptor(a.prototype,"showCat"),a.prototype),i=a))||i
e.default=c}),define("future-mobility-responses/components/cddl-visualization",["exports","@ember-decorators/object","@ember-decorators/service","@ember-decorators/object/computed","@ember-decorators/component","future-mobility-responses/components/cddl-navigation","d3","future-mobility-responses/gl"],function(e,t,r,n,o,i,a,u){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var l=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,p,d,m,b,y
function O(e,t,r,n,o){var i={}
return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var v=a.default.nest,_=(f=(0,o.classNames)("cddl-visualization"),p=(0,t.computed)("questionCounts.{questions,answers}"),d=(0,t.computed)(""),f((b=function(e){function t(){var e,r,n,o,i,a,u;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f]
return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o=n,i="router",u=n,(a=y)&&Object.defineProperty(o,i,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(u):void 0}),n._isSortedByCategory=!1,c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),s(t,[{key:"handleClick",value:function(e,t){var r=this.get("questionCounts").answers,n=t+3,o=r.filter(function(e){return e.q_id===n}).reduce(function(e,t){var r=t.id_list
return e.concat(r)},[]),i=o[Math.floor(Math.random()*o.length)]
i&&this.get("router").transitionTo("questions.card",i)}},{key:"didInsertElement",value:function(){for(var e,r=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];(e=function e(t,r,n){null===t&&(t=Function.prototype)
var o=Object.getOwnPropertyDescriptor(t,r)
if(void 0===o){var i=Object.getPrototypeOf(t)
return null===i?void 0:e(i,r,n)}if("value"in o)return o.value
var a=o.get
return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"didInsertElement",this)).call.apply(e,[this].concat(o))
var a=this.element.querySelector(".gl-container"),l=this.get("proportions"),s=a.appendChild(document.createElement("canvas"))
s.width=a.clientWidth,s.height=a.clientHeight
var c=s.getContext("webgl2"),f=(0,u.default)(c,s).setSize([s.width,s.height]).setInstances(3e3).setSchema(l).setMotionRadial(.3).setMotionAngular(.4).setDecay(.009).onClick(function(){r.handleClick.apply(r,arguments)},s)
this.get("visualizationEnabled")&&f(),this.set("glModule",f)}},{key:"proportions",get:function(){var e=this.get("questionCounts"),t=e.questions,r=e.answers
return v().key(function(e){return e.q_id}).entries(r).map(function(e){e.key
var r=e.values,n=l(r,1)[0],o=n.q_id,i=n.q_text,a=t.find(function(e){return e.q===o}).total
return{q_id:o,q_text:i,total:a,answers:r.map(function(e){return{a_id:e.a_id,a_text:e.a_text,id_list:e.id_list,count:e.total}})}})}},{key:"isSortedByCategory",get:function(){return this.get("_isSortedByCategory")},set:function(e){this.get("glModule").separateByCat(e),this.set("_isSortedByCategory",e)}}]),t}(),y=O(b.prototype,"router",[r.service],{enumerable:!0,initializer:null}),O(b.prototype,"proportions",[p],Object.getOwnPropertyDescriptor(b.prototype,"proportions"),b.prototype),O(b.prototype,"isSortedByCategory",[d],Object.getOwnPropertyDescriptor(b.prototype,"isSortedByCategory"),b.prototype),m=b))||m)
e.default=_}),define("future-mobility-responses/components/ember-wormhole",["exports","ember-wormhole/components/ember-wormhole"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/lazy-background-image",["exports","ember-lazy-image-loader/components/lazy-background-image"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/lazy-image",["exports","ember-lazy-image-loader/components/lazy-image"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/components/responses-by-type-visualization",["exports","@ember-decorators/component","@ember-decorators/object","@ember-decorators/service"],function(e,t,r,n){function o(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i,a,u,l,s,c,f,p,d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t,r,n,o){var i={}
return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y={stroke:"rgb(0,0,0)",fill:"red",width:"10px",height:"20px",cursor:"pointer"},O=(i=(0,t.tagName)("svg"),a=(0,t.classNames)("responses-by-type-visualization"),u=(0,r.computed)("responses.[]"),i(l=a((s=function(e){function t(){var e,r,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u]
return r=n=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o(n,"router",c,n),o(n,"width",f,n),o(n,"height",p,n),m(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),d(t,[{key:"handleRectClick",value:function(e){var t=Math.random()
this.get("router").transitionTo("questions.card",e,t)}},{key:"rectangles",get:function(){var e=this.get("responses")
return Array.from({length:e}).map(function(e){return{x:Math.floor(100*Math.random()),y:Math.floor(100*Math.random())}})}},{key:"generatedStyle",get:function(){return e=y,Ember.String.htmlSafe(Object.keys(e).reduce(function(t,r){return t.concat(r+": "+e[r]+";")},""))
var e}}]),t}(),c=b(s.prototype,"router",[n.service],{enumerable:!0,initializer:null}),b(s.prototype,"rectangles",[u],Object.getOwnPropertyDescriptor(s.prototype,"rectangles"),s.prototype),b(s.prototype,"generatedStyle",[r.computed],Object.getOwnPropertyDescriptor(s.prototype,"generatedStyle"),s.prototype),f=b(s.prototype,"width",[t.attribute],{enumerable:!0,initializer:function(){return 120}}),p=b(s.prototype,"height",[t.attribute],{enumerable:!0,initializer:function(){return 130}}),b(s.prototype,"handleRectClick",[r.action],Object.getOwnPropertyDescriptor(s.prototype,"handleRectClick"),s.prototype),l=s))||l)||l)
e.default=O}),define("future-mobility-responses/controllers/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
var t=function(e){function t(){var e;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o]
var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)))
return i.visualizationEnabled=!0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Controller),t}()
e.default=t}),define("future-mobility-responses/controllers/questions",["exports","ember-animated/motions/opacity","@ember-decorators/object","d3"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i,a,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s,c,f,p,d,m,b=300,y=(i=(0,r.computed)("model.answers"),a=function(e){function r(){var e,n,o;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r)
for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u]
return n=o=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),o.duration=b,o.transition=regeneratorRuntime.mark(function e(r){var n=r.insertedSprites,o=r.receivedSprites,i=r.removedSprites
return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach(function(e){(0,t.default)(e,{from:0,to:1})}),o.forEach(function(e){(0,t.default)(e,{from:0,to:1})}),i.forEach(function(e){(0,t.default)(e,{from:1,to:0})})
case 3:case"end":return e.stop()}},e,this)}),l(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Ember.Controller),u(r,[{key:"scaledAnswers",get:function(){var e=this.get("model"),t=e.answers,r=e.meta,i=r.min,a=r.max,u=(0,n.scaleLinear)().domain([i,a]).rangeRound([1,300])
return t.map(function(e){return o({},e,{total:u(e.total)})})}}]),r}(),s=a.prototype,c="scaledAnswers",f=[i],p=Object.getOwnPropertyDescriptor(a.prototype,"scaledAnswers"),d=a.prototype,m={},Object.keys(p).forEach(function(e){m[e]=p[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce(function(e,t){return t(s,c,e)||e},m),d&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(d):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,c,m),m=null),a)
e.default=y}),define("future-mobility-responses/controllers/questions/card",["exports","future-mobility-responses/config/environment","ember-animated/motions/opacity"],function(e,t,r){function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=t.default.host,i=function(e){function t(){var e,i,a;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s]
return i=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.host=o,a.transition=regeneratorRuntime.mark(function e(t){var n=t.insertedSprites,o=t.receivedSprites,i=t.removedSprites
return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach(function(e){(0,r.default)(e,{from:0,to:1})}),o.forEach(function(e){(0,r.default)(e,{from:0,to:1})}),i.forEach(function(e){(0,r.default)(e,{from:1,to:0})})
case 3:case"end":return e.stop()}},e,this)}),n(a,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Controller),t}()
e.default=i}),define("future-mobility-responses/gl/config",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
e.OFFSET_LOCATION=0,e.ROTATION_LOCATION=1,e.POSITION_LOCATION=2,e.COLOR_LOCATION=3,e.AGE_LOCATION=4,e.INIT_OFFSET_LOCATION=5,e.PICKING_COLOR_LOCATION=6
var t=[125,0,46,213,29,82,0,65,107,51,114,169,241,93,42,223,199,35,0,122,102,77,183,72,105,44,122,220,100,156].map(function(e){return e/255})
e.COLOR_RAMP=t}),define("future-mobility-responses/gl/index",["exports","future-mobility-responses/gl/config","future-mobility-responses/gl/utils","future-mobility-responses/gl/shader","d3","three"],function(e,t,r,n,o,i){Object.defineProperty(e,"__esModule",{value:!0})
var a=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
e.default=function(e){var u=800,l=600,s=10,c=.009,f=.5,p=1,d=1,m=0,b=null,y=[1,1,1,1,1,1,1,1,1,1],O=(0,r.generateShuffledCategories)(y,s),v=null,_=!1,h=(0,r.compileShader)(e,n.vs,e.VERTEX_SHADER),g=(0,r.compileShader)(e,n.fs,e.FRAGMENT_SHADER),A=(0,r.createProgram)(e,h,g),T=(0,r.compileShader)(e,n.transformVs,e.VERTEX_SHADER),E=(0,r.compileShader)(e,n.transformFs,e.FRAGMENT_SHADER),R=(0,r.createProgram)(e,T,E,"v_offset","v_rotation","v_age"),C=e.getUniformLocation(A,"u_w"),I=e.getUniformLocation(A,"u_h"),F=e.getUniformLocation(A,"u_usePickingColor"),P=e.getUniformLocation(R,"u_time"),N=e.getUniformLocation(R,"u_w"),w=e.getUniformLocation(R,"u_h"),L=e.getUniformLocation(R,"u_decay"),x=e.getUniformLocation(R,"u_random_walk_speed"),j=e.getUniformLocation(R,"u_circular_speed"),S=e.getUniformLocation(R,"u_radial_speed"),M=(0,r.initVAOs)(e),B=M.vaos,z=M.tfs,D=M.buffers,k=e.createFramebuffer(),U=e.createTexture(),G=e.createRenderbuffer()
function q(){console.log("Run GLModule"),e.viewport(0,0,u,l),e.clearColor(0,0,0,1),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.DST_ALPHA),e.useProgram(A),e.uniform1f(C,u),e.uniform1f(I,l),e.useProgram(R),e.uniform1f(N,u),e.uniform1f(w,l),e.uniform1f(L,c),e.uniform1f(x,f),e.uniform1f(j,p),e.uniform1f(S,d),K(D),function(t,r,n,o,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),t.texture=r,e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,o,i),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n)
var a=e.checkFramebufferStatus(e.FRAMEBUFFER)
if(console.log(a),e.FRAMEBUFFER_COMPLETE!==a)return console.log("Frame buffer object is incomplete: "+a.toString()),new Error
e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)}(k,U,G,u,l),Y()}function Y(){var r,n,o,i
r=(m+1)%2,n=B[m],o=z[r],i=D[r],e.useProgram(R),e.bindVertexArray(n),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,i[t.OFFSET_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,i[t.ROTATION_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,2,i[t.AGE_LOCATION]),e.vertexAttribDivisor(t.OFFSET_LOCATION,0),e.vertexAttribDivisor(t.ROTATION_LOCATION,0),e.vertexAttribDivisor(t.AGE_LOCATION,0),e.enable(e.RASTERIZER_DISCARD),e.uniform1f(P,Math.random()),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,s),e.endTransformFeedback(),e.disable(e.RASTERIZER_DISCARD),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),m=(m+1)%2,e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(A),e.uniform1f(F,0),e.bindVertexArray(B[m]),e.vertexAttribDivisor(t.OFFSET_LOCATION,1)
e.vertexAttribDivisor(t.ROTATION_LOCATION,1),e.vertexAttribDivisor(t.AGE_LOCATION,1),e.drawArraysInstanced(e.TRIANGLES,0,6,s),requestAnimationFrame(Y)}function V(r){var n=new Float32Array(Array.from({length:s}).map(function(e,r){var n=O[r]?O[r]:0
return[t.COLOR_RAMP[3*n],t.COLOR_RAMP[3*n+1],t.COLOR_RAMP[3*n+2]]}).reduce(function(e,t){return e.concat(t)},[]))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.COLOR_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})}function H(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=void(0,o.randomNormal)(.3,.2)
f=Number.isInteger(c)?new Float32Array((0,r.singleQuestionLayout)(s,u,l,O,v,b[v].answers)):i?new Float32Array((0,r.pieLayout)(s,u,l,O,y)):new Float32Array((0,r.pieLayout)(s,u,l)),n.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.INIT_OFFSET_LOCATION]),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW),a&&(e.bindBuffer(e.ARRAY_BUFFER,r[t.OFFSET_LOCATION]),e.bufferData(e.ARRAY_BUFFER,f,e.STREAM_COPY))})}function K(r){(function(r){var n=new Float32Array([6,3.5,-6,3.5,-6,-3.5,-6,-3.5,6,-3.5,6,3.5])
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.POSITION_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})})(r),V(r),H(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(){return 2*Math.random()*Math.PI}))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.ROTATION_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STREAM_COPY)})}(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(){return Math.random()}))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.AGE_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STREAM_COPY)})}(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(e,t){var r=(new i.Color).setHex(t)
return[r.r,r.g,r.b]}).reduce(function(e,t){return e.concat(t)},[]))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.PICKING_COLOR_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})}(r)}return q.setSize=function(e){var t=a(e,2),r=t[0],n=t[1]
return u=r,l=n,this},q.setInstances=function(e){return s=e,O=(0,r.generateShuffledCategories)(y,s),K(D),this},q.setSchema=function(e){return console.log(e),y=(b=e).map(function(e){return e.total}),O=(0,r.generateShuffledCategories)(y,s),V(D),H(D,_,!1),this},q.separateByCat=function(e){return H(D,_=e,!1),this},q.showCat=function(e,t){var n=b.filter(function(t){return t.q_id===e})[0]
if(n){v=b.indexOf(n)
var o=n.answers,i=(0,r.computePackLayoutCenters)(o,u,l)
return console.group("GLModule:showCat:q_id="+e+" && _currentCat="+v),console.log(b),console.log(v),console.log(O),console.log(y),console.groupEnd(),t(i.descendants().filter(function(e){return e.depth>0}).map(function(e){return Object.assign({},e.data,{x:e.x,y:e.y})})),H(D,_,!1,v),this}console.error("Question with the q_id "+e+" cannot be found in the schema")},q.onClick=function(r,n){return n.addEventListener("click",function(n){e.bindFramebuffer(e.FRAMEBUFFER,k),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(A),e.uniform1f(F,1),e.bindVertexArray(B[m]),e.vertexAttribDivisor(t.OFFSET_LOCATION,1),e.vertexAttribDivisor(t.ROTATION_LOCATION,1),e.vertexAttribDivisor(t.AGE_LOCATION,1),e.drawArraysInstanced(e.TRIANGLES,0,6,s)
var o=[n.clientX,l-n.clientY],i=o[0],a=o[1],u=new Uint8Array(4)
e.readPixels(i,a,1,1,e.RGBA,e.UNSIGNED_BYTE,u)
var c=u[0]<<16|u[1]<<8|u[2]
c&&r(c,O[c])}),this},q.setDecay=function(t){return c=t,e.useProgram(R),e.uniform1f(L,c),this},q.setMotionRandom=function(t){return f=t,e.useProgram(R),e.uniform1f(x,f),this},q.setMotionAngular=function(t){return p=t,e.useProgram(R),e.uniform1f(j,p),this},q.setMotionRadial=function(t){return d=t,e.useProgram(R),e.uniform1f(S,d),this},q.log=function(){return console.groupCollapsed("GLModule:update"),console.log("Width: "+u),console.log("Height: "+l),console.log("Proportions: "+y),console.log("Instance count: "+s),console.groupEnd(),this},q}}),define("future-mobility-responses/gl/shader",["exports","future-mobility-responses/gl/config"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.transformFs=e.transformVs=e.fs=e.vs=void 0
var r="#version 300 es\n  #define OFFSET_LOCATION "+t.OFFSET_LOCATION+"\n  #define ROTATION_LOCATION "+t.ROTATION_LOCATION+"\n  #define POSITION_LOCATION "+t.POSITION_LOCATION+"\n  #define COLOR_LOCATION "+t.COLOR_LOCATION+"\n  #define AGE_LOCATION "+t.AGE_LOCATION+"\n  #define INIT_OFFSET_LOCATION "+t.INIT_OFFSET_LOCATION+"\n  #define PICKING_COLOR_LOCATION "+t.PICKING_COLOR_LOCATION+"\n\n  #define M_2PI 6.28318530718\n\n  precision highp float;\n  precision highp int;\n\n  uniform float u_w;\n  uniform float u_h;\n  uniform float u_usePickingColor;\n\n  layout(location = OFFSET_LOCATION) in vec2 a_offset;\n  layout(location = ROTATION_LOCATION) in float a_rotation;\n  layout(location = POSITION_LOCATION) in vec2 a_position;\n  layout(location = COLOR_LOCATION) in vec3 a_color;\n  layout(location = AGE_LOCATION) in float a_age;\n  layout(location = PICKING_COLOR_LOCATION) in vec3 a_picking_color;\n\n  out vec3 v_color;\n  out float v_alpha;\n\n  void main(){\n    //convert float rotation into a mat2 rotation matrix\n    float cos_r = cos(a_rotation);\n    float sin_r = sin(a_rotation);\n    mat2 rot = mat2(\n      cos_r, sin_r,\n      -sin_r, cos_r\n    );\n\n    vec2 position = rot * a_position + a_offset;\n    position = vec2(\n      position.x / u_w * 2.0 - 1.0,\n      1.0 - position.y / u_h * 2.0\n    );\n\n    gl_Position = vec4(position, 0.0, 1.0);\n\n    v_color = a_color;\n    if(u_usePickingColor > 0.0){\n      v_color = a_picking_color;\n    }\n    v_alpha = sin(a_age * M_2PI / 2.0);\n    if(u_usePickingColor > 0.0){\n      v_alpha = 1.0;\n    }\n  }\n",n="#version 300 es\n  #define OFFSET_LOCATION "+t.OFFSET_LOCATION+"\n  #define ROTATION_LOCATION "+t.ROTATION_LOCATION+"\n  #define AGE_LOCATION "+t.AGE_LOCATION+"\n  #define INIT_OFFSET_LOCATION "+t.INIT_OFFSET_LOCATION+"\n  #define M_2PI 6.28318530718\n\n  #define WANDER_CIRCLE_R 0.01\n  #define WANDER_CIRCLE_OFFSET 0.04\n  #define RANDOM_WALK_DELTA 0.5\n  #define CIRCULAR_DELTA 1.0\n  #define DECAY 0.005\n\n  precision highp float;\n  precision highp int;\n\n  uniform float u_time;\n  uniform float u_w;\n  uniform float u_h;\n  uniform float u_random_walk_speed;\n  uniform float u_circular_speed;\n  uniform float u_radial_speed;\n  uniform float u_decay;\n\n  layout(location = OFFSET_LOCATION) in vec2 a_offset;\n  layout(location = ROTATION_LOCATION) in float a_rotation;\n  layout(location = AGE_LOCATION) in float a_age;\n  layout(location = INIT_OFFSET_LOCATION) in vec2 a_init_offset;\n  \n  //These three varyings are transformFeedback outputs\n  out vec2 v_offset;\n  out float v_rotation;\n  out float v_age;\n\n  float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n  }\n\n  void main(){\n    float theta = M_2PI * rand(vec2(u_time, a_rotation + a_offset.x + a_offset.y));\n\n    //create 2D rotation matrix from current a_rotation\n    float cos_r = cos(a_rotation);\n    float sin_r = sin(a_rotation);\n    mat2 rot = mat2(\n        cos_r, sin_r,\n        -sin_r, cos_r\n    );\n\n    //RANDOM WALK\n    //compute target vec2 to move towards at each step\n    vec2 p = WANDER_CIRCLE_R * vec2(cos(theta), sin(theta)) + vec2(WANDER_CIRCLE_OFFSET, 0.0);\n    vec2 target = normalize(rot * p);\n    //Move each particle towards target, and record rotation\n    v_rotation = atan(target.y, target.x);\n    v_offset = a_offset + u_random_walk_speed * target;\n\n    //CIRCULAR MOTION\n    vec2 tangent = cross(\n      vec3(a_offset.x - u_w/2.0, a_offset.y - u_h/2.0, 0.0), \n      vec3(0.0, 0.0, 1.0)\n    ).xy;\n    v_offset = v_offset + u_circular_speed * normalize(tangent);\n\n    //RADIAL MOTION\n    //Accelerate from center then gradually slow down\n    vec2 radial = vec2(a_offset.x - u_w/2.0, a_offset.y - u_h/2.0);\n    float radialDistanceToCenter = length(radial);\n    radial = normalize(radial);\n    v_offset = v_offset + u_radial_speed * radial * (1.0 - radialDistanceToCenter / u_h);\n\n    //Output new v_age\n    v_age = a_age + u_decay;\n    if(v_age > 1.0){\n      v_age = 0.0;\n      v_offset = a_init_offset;\n    }\n\n    gl_Position = vec4(v_offset, 0.0, 1.0);\n  }\n"
e.vs=r,e.fs="#version 300 es\n  #define ALPHA 1.0\n  \n  precision highp float;\n  precision highp int;\n\n  in vec3 v_color;\n  in float v_alpha;\n\n  out vec4 color;\n\n  void main(){\n    color = vec4(v_color, v_alpha);\n  }\n",e.transformVs=n,e.transformFs="#version 300 es\n  void main(){\n    //no-op, since we don't render fragments during transform feedback step\n  }\n"}),define("future-mobility-responses/gl/utils",["exports","future-mobility-responses/gl/config","d3"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.computePackLayoutCenters=e.singleQuestionLayout=e.columnsLayout=e.pieLayout=e.generateShuffledCategories=e.initVAOs=e.createProgram=e.compileShader=void 0
var n=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
e.compileShader=function(e,t,r){var n=e.createShader(r)
e.shaderSource(n,t),e.compileShader(n)
var o=e.getShaderInfoLog(n)
return o&&(console.log(o),console.log(t)),n},e.createProgram=function(e,t,r){for(var n=arguments.length,o=Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i]
var a=e.createProgram()
e.attachShader(a,t),e.attachShader(a,r),o.length&&e.transformFeedbackVaryings(a,o,e.SEPARATE_ATTRIBS),e.linkProgram(a)
var u=e.getProgramInfoLog(a)
return u&&console.log(u),a},e.initVAOs=function(e){for(var r=[e.createVertexArray(),e.createVertexArray()],n=[e.createTransformFeedback(),e.createTransformFeedback()],o=new Array(r.length),i=0;i<r.length;i++){var a=r[i],u=n[i]
o[i]=new Array(7)
var l=o[i]
e.bindVertexArray(a),l[t.OFFSET_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.OFFSET_LOCATION]),e.vertexAttribPointer(t.OFFSET_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.OFFSET_LOCATION),e.vertexAttribDivisor(t.OFFSET_LOCATION,1),l[t.ROTATION_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.ROTATION_LOCATION]),e.vertexAttribPointer(t.ROTATION_LOCATION,1,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.ROTATION_LOCATION),e.vertexAttribDivisor(t.ROTATION_LOCATION,1),l[t.POSITION_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.POSITION_LOCATION]),e.vertexAttribPointer(t.POSITION_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.POSITION_LOCATION),l[t.COLOR_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.COLOR_LOCATION]),e.vertexAttribPointer(t.COLOR_LOCATION,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.COLOR_LOCATION),e.vertexAttribDivisor(t.COLOR_LOCATION,1),l[t.AGE_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.AGE_LOCATION]),e.vertexAttribPointer(t.AGE_LOCATION,1,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.AGE_LOCATION),e.vertexAttribDivisor(t.AGE_LOCATION,1),l[t.INIT_OFFSET_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.INIT_OFFSET_LOCATION]),e.vertexAttribPointer(t.INIT_OFFSET_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.INIT_OFFSET_LOCATION),e.vertexAttribDivisor(t.INIT_OFFSET_LOCATION,0)
l[t.PICKING_COLOR_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l[t.PICKING_COLOR_LOCATION]),e.vertexAttribPointer(t.PICKING_COLOR_LOCATION,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.PICKING_COLOR_LOCATION),e.vertexAttribDivisor(t.PICKING_COLOR_LOCATION,1),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,u),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,l[t.OFFSET_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,l[t.ROTATION_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,2,l[t.AGE_LOCATION]),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}return{vaos:r,tfs:n,buffers:o}}
e.generateShuffledCategories=function(e,t){for(var r=e.reduce(function(e,t){return e+t},0),n=e.map(function(e,n){return Array.from({length:Math.ceil(e/r*t)}).map(function(e){return n})}).reduce(function(e,t){return e.concat(t)},[]),o=[],i=0;i<t;i++)o.push(n[Math.round(Math.random()*n.length)])
return o}
var o=(0,r.randomNormal)(.3,.2),i=(0,r.pack)(),a=function(e,t,n){var o=(0,r.hierarchy)({name:"root",children:e})
return o.sum(function(e){return e.count}),i.size([t,n]),i(o)}
e.pieLayout=function(e,t,i,a,u){if(a){var l=(0,r.pie)().padAngle(.3).sortValues(null)(u)
return Array.from({length:e}).map(function(e,t){var r=a[t]?a[t]:0,n=l[r],u=n.startAngle,s=n.endAngle,c=u+Math.random()*(s-u)
return[(o()+.5)*i/2,c]}).map(function(e){var r=n(e,2),o=r[0],a=r[1]
return[o*Math.cos(a)+t/2,o*Math.sin(a)+i/2]}).reduce(function(e,t){return e.concat(t)},[])}return Array.from({length:e}).map(function(){return[(o()+.5)*i/2,Math.random()*Math.PI*2]}).map(function(e){var r=n(e,2),o=r[0],a=r[1]
return[o*Math.cos(a)+t/2,o*Math.sin(a)+i/2]}).reduce(function(e,t){return e.concat(t)},[])},e.columnsLayout=function(e,t,n,o,i){!(arguments.length>5&&void 0!==arguments[5])||arguments[5]
var a=(0,r.scaleLinear)().domain([0,(0,r.max)(i)]).range([0,t-40]),u=(n-10*(i.length+1))/i.length,l=i.map(function(e,r){var n=10+r*(10+u),o=n+u,i=a(e)
return{x0:t/2-i/2,x1:t/2+i/2,y0:n,y1:o}})
return Array.from({length:e}).map(function(e,t){var r=o[t]?o[t]:0,n=l[r],i=n.x0,a=n.x1,u=n.y0,s=n.y1
return[i+Math.random()*(a-i),u+Math.random()*(s-u)]}).reduce(function(e,t){return e.concat(t)},[])},e.singleQuestionLayout=function(e,t,r,n,o,i){var u=a(i,t,r).descendants(),l=u.filter(function(e){return 0===e.depth})[0].r,s=u.filter(function(e){return e.depth>0}).map(function(e){return Array.from({length:e.value}).map(function(t){return{r:e.r,x:e.x,y:e.y,a_id:e.data.a_id}})}).reduce(function(e,t){return e.concat(t)},[])
console.group("Single question layout"),console.log(l),console.log(n),console.log(o),console.log(s),console.groupEnd()
var c=Array.from({length:e}).map(function(e){var n=Math.random()*Math.PI*2
return[t/2+l*Math.cos(n)*1.5,r/2+l*Math.sin(n)*1.5]})
return c.filter(function(e,t){return n[t]===o}).forEach(function(e,t){var r=s[t%s.length],n=r.x,o=r.y,i=r.r,a=(r.a_id,Math.random()*Math.PI*2),u=.75*Math.random()*i
e[0]=n+u*Math.cos(a),e[1]=o+u*Math.sin(a)}),c.reduce(function(e,t){return e.concat(t)},[])},e.computePackLayoutCenters=a}),define("future-mobility-responses/helpers/add",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=r
var t=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
function r(e){var r=t(e,2)
return r[0]+r[1]}e.default=Ember.Helper.helper(r)}),define("future-mobility-responses/helpers/app-version",["exports","future-mobility-responses/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,r){function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.default.APP.version,i=n.versionOnly||n.hideSha,a=n.shaOnly||n.hideVersion,u=null
return i&&(n.showExtended&&(u=o.match(r.versionExtendedRegExp)),u||(u=o.match(r.versionRegExp))),a&&(u=o.match(r.shaRegExp)),u?u[0]:o}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=n,e.default=Ember.Helper.helper(n)}),define("future-mobility-responses/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/helpers/safe-style",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.safeStyle=r
var t=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
function r(e){var r=t(e,1)[0]
return Ember.String.htmlSafe(Object.keys(r).reduce(function(e,t){return e.concat(t+":"+r[t]+";")},""))}e.default=Ember.Helper.helper(r)}),define("future-mobility-responses/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","future-mobility-responses/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0})
var n=void 0,o=void 0
r.default.APP&&(n=r.default.APP.name,o=r.default.APP.version),e.default={name:"App Version",initialize:(0,t.default)(n,o)}}),define("future-mobility-responses/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("future-mobility-responses/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}})
define("future-mobility-responses/initializers/export-application-global",["exports","future-mobility-responses/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var r
if("undefined"!=typeof window)r=window
else if("undefined"!=typeof global)r=global
else{if("undefined"==typeof self)return
r=self}var n,o=t.default.exportApplicationGlobal
n="string"==typeof o?o:Ember.String.classify(t.default.modulePrefix),r[n]||(r[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[n]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("future-mobility-responses/initializers/local-storage-adapter",["exports","ember-local-storage/initializers/local-storage-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})}),define("future-mobility-responses/initializers/viewport-config",["exports","ember-in-viewport/initializers/viewport-config"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})}),define("future-mobility-responses/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("future-mobility-responses/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/router",["exports","future-mobility-responses/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL})
r.map(function(){this.route("questions",function(){this.route("card",{path:"cards/:id"})})}),e.default=r}),define("future-mobility-responses/routes/application",["exports","fetch","future-mobility-responses/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var o=r.default.host,i=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Ember.Route),n(r,[{key:"model",value:function(){var e,r=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.default)(o+"/qcount/?format=json").then(function(e){return e.json()})
case 2:return e.t0=e.sent,e.next=5,(0,t.default)(o+"/qacount/?format=json").then(function(e){return e.json()})
case 5:return e.t1=e.sent,e.abrupt("return",{questions:e.t0,answers:e.t1})
case 7:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments)
return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(l){return void r(l)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)})
e(u)}("next")})})
return function(){return r.apply(this,arguments)}}()}]),r}()
e.default=i}),define("future-mobility-responses/routes/questions/card",["exports","fetch","future-mobility-responses/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var o=r.default.host,i=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Ember.Route),n(r,[{key:"model",value:function(e){var r=e.id
return console.log("find "+r),(0,t.default)(o+"/responses/"+r+"/").then(function(e){return e.json()}).then(function(e){return console.log(e),e}).catch(function(e){return console.log(e)})}}]),r}()
e.default=i}),define("future-mobility-responses/services/-ea-motion",["exports","ember-animated/services/motion"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/services/-observer-admin",["exports","ember-in-viewport/services/-observer-admin"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/services/-raf-admin",["exports","ember-in-viewport/services/-raf-admin"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/storages/cache",["exports","ember-lazy-image-loader/storages/cache"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"JOk1uuo0",block:'{"symbols":[],"statements":[[1,[27,"cddl-visualization",null,[["questionCounts","visualizationEnabled"],[[23,["model"]],[23,["visualizationEnabled"]]]]],false],[0,"\\n\\n"],[1,[21,"outlet"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/application.hbs"}})}),define("future-mobility-responses/templates/components/answer-type-label",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"xyZLA0qq",block:'{"symbols":[],"statements":[[1,[23,["label","a_text"]],false]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/answer-type-label.hbs"}})}),define("future-mobility-responses/templates/components/cddl-navigation",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"TF7+YAyn",block:'{"symbols":["label","category","index"],"statements":[[7,"nav"],[11,"id","circle-nav-wrapper"],[11,"class","circle-nav-wrapper"],[9],[0,"\\n  "],[7,"div"],[11,"class","circle-nav-toggle"],[11,"id","toggle"],[3,"action",[[22,0,[]],"handleToggleClick"]],[9],[0,"\\n    "],[7,"i"],[11,"class","material-icons"],[9],[0,"add"],[10],[0,"\\n  "],[10],[0,"\\n  "],[7,"div"],[11,"class","circle-nav-panel"],[9],[10],[0,"\\n  "],[7,"ul"],[11,"class","circle-nav-menu"],[9],[0,"\\n"],[4,"each",[[23,["categories"]]],null,{"statements":[[0,"      "],[7,"li"],[12,"class",[28,["circle-nav-item circle-nav-item-",[27,"add",[[22,3,[]],1],null]]]],[12,"id",[22,2,["label"]]],[3,"action",[[22,0,[]],"showCat",[22,2,["id"]]]],[9],[0,"\\n      "],[10],[0,"\\n"]],"parameters":[2,3]},null],[0,"  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[4,"if",[[23,["isSortedByCategory"]]],null,{"statements":[[4,"ember-wormhole",null,[["to"],["answer-type-labels"]],{"statements":[[0,"    "],[7,"div"],[11,"class","labels"],[9],[0,"\\n"],[4,"each",[[23,["labelCenters"]]],null,{"statements":[[0,"        "],[1,[27,"answer-type-label",null,[["label"],[[22,1,[]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/cddl-navigation.hbs"}})}),define("future-mobility-responses/templates/components/cddl-visualization",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"XxFcsNt2",block:'{"symbols":[],"statements":[[7,"div"],[11,"class","gl-container"],[9],[0,"\\n"],[10],[0,"\\n\\n"],[7,"div"],[11,"id","answer-type-labels"],[9],[0,"\\n"],[10],[0,"\\n\\n"],[1,[27,"cddl-navigation",null,[["isSortedByCategory","questionCounts","visualization"],[[23,["isSortedByCategory"]],[23,["questionCounts"]],[23,["glModule"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/cddl-visualization.hbs"}})}),define("future-mobility-responses/templates/components/responses-by-type-visualization",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"WmY4te7V",block:'{"symbols":["rectangle","index"],"statements":[[4,"each",[[23,["rectangles"]]],null,{"statements":[[0,"  "],[7,"rect"],[11,"class","response-rectangle"],[12,"x",[22,1,["x"]]],[12,"y",[22,1,["y"]]],[12,"style",[21,"generatedStyle"]],[3,"action",[[22,0,[]],"handleRectClick",[23,["model","q_id"]],[22,2,[]]]],[9],[10],[0,"\\n"]],"parameters":[1,2]},null]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/responses-by-type-visualization.hbs"}})}),define("future-mobility-responses/templates/questions/card",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"vB96hftq",block:'{"symbols":[],"statements":[[7,"div"],[11,"class","questions-container"],[9],[0,"\\n  "],[7,"div"],[11,"class","animation-flex"],[9],[0,"\\n    "],[4,"link-to",["application"],[["class","tagName"],["card-padding","div"]],{"statements":[[0,""]],"parameters":[]},null],[0,"\\n"],[4,"animated-container",null,null,{"statements":[[4,"animated-value",[[23,["model"]]],[["initialInsertion","use","duration"],[true,[23,["transition"]],[23,["duration"]]]],{"statements":[[0,"        "],[7,"div"],[11,"class","answer-card-container"],[9],[0,"\\n          "],[7,"img"],[12,"src",[27,"concat",[[23,["host"]],[23,["model","back"]]],null]],[9],[10],[0,"\\n        "],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"    "],[4,"link-to",["application"],[["class","tagName"],["card-padding","div"]],{"statements":[[0,""]],"parameters":[]},null],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[1,[21,"outlet"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/questions/card.hbs"}})}),define("future-mobility-responses/config/environment",[],function(){try{var e="future-mobility-responses/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(unescape(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(n){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("future-mobility-responses/app").default.create({name:"future-mobility-responses",version:"0.0.0+bad05531"})
