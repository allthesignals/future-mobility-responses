"use strict"
define("future-mobility-responses/app",["exports","future-mobility-responses/resolver","ember-load-initializers","future-mobility-responses/config/environment"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0})
var o=Ember.Application.extend({modulePrefix:n.default.modulePrefix,podModulePrefix:n.default.podModulePrefix,Resolver:t.default});(0,r.default)(o,n.default.modulePrefix),e.default=o}),define("future-mobility-responses/components/cddl-navigation",["exports","@ember-decorators/object"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o,i=function e(t,r,n){null===t&&(t=Function.prototype)
var o=Object.getOwnPropertyDescriptor(t,r)
if(void 0===o){var i=Object.getPrototypeOf(t)
return null===i?void 0:e(i,r,n)}if("value"in o)return o.value
var a=o.get
return void 0!==a?a.call(n):void 0}
var a,l,u,s,c,f,d=["car","commute","people","environ","safety","ethics","money","time","robots","time"],p=(o=function(e){function t(){var e,r,o;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l]
return r=o=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.categories=d,n(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),r(t,[{key:"handleToggleClick",value:function(){this.toggleProperty("isSortedByCategory")}},{key:"init",value:function(){for(var e,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this)).call.apply(e,[this].concat(n)),Ember.$.fn.circleNav=function(e){var t=Ember.$.extend({},Ember.$.fn.circleNav.settings,e)
return this.each(function(){var e=Ember.$(this),r=Ember.$(".circle-nav-toggle"),n=Ember.$(".circle-nav-panel"),o=Ember.$(".circle-nav-menu")
Ember.$("body").append("<div class='circle-nav-overlay'></div>"),Ember.$(".circle-nav-overlay").css({top:"0",right:"0",bottom:"0",left:"0",position:"fixed","background-color":t.overlayColor,opacity:t.overlayOpacity,"z-index":"-1",display:"none"}),Ember.$(".circle-nav-toggle, .circle-nav-overlay").on("click",function(){e.stop().toggleClass("circle-nav-open"),r.stop().toggleClass("circle-nav-open"),n.stop().toggleClass("circle-nav-open"),o.stop().toggleClass("circle-nav-open"),Ember.$(".circle-nav-overlay").fadeToggle(),Ember.$("body").css("overflow")?Ember.$("body, html").css("overflow",""):Ember.$("body, html").css("overflow","hidden")})})},Ember.$.fn.circleNav.settings={hasOverlay:!0,overlayColor:"#fff",overlayOpacity:".0"}}},{key:"didInsertElement",value:function(){for(var e,r=this,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];(e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"didInsertElement",this)).call.apply(e,[this].concat(o)),Ember.$("#circle-nav-wrapper").circleNav(),Ember.$("#toggle").click(function(){Ember.$("#pie_color").toggleClass("hidden"),Ember.$(".answer-container").addClass("hidden"),Ember.$(".container").removeClass("hidden"),Ember.$(".card-placeholder").addClass("hidden"),Ember.$(".answer-container div").removeClass("selected"),Ember.$("#car-container div").removeClass("container-shift")}),Ember.$(".circle-nav-item").click(function(){Ember.$(".container").addClass("hidden"),Ember.$(".card-placeholder").addClass("hidden"),Ember.$(".answer-container div").removeClass("selected"),Ember.$("#car-container div").removeClass("container-shift")}),Ember.$("#car").click(function(){Ember.$(".answer-container").addClass("hidden"),Ember.$("#car-container").toggleClass("hidden")}),Ember.$("#car-container div").click(function(){Ember.$("#car-container div").addClass("container-shift"),Ember.$("#car-container div").removeClass("selected"),Ember.$(".card-placeholder").addClass("hidden"),Ember.$("#car-cards").delay(800).removeClass("hidden"),Ember.$(r).addClass("selected")})}}]),t}(),a=o.prototype,l="handleToggleClick",u=[t.action],s=Object.getOwnPropertyDescriptor(o.prototype,"handleToggleClick"),c=o.prototype,f={},Object.keys(s).forEach(function(e){f[e]=s[e]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=u.slice().reverse().reduce(function(e,t){return t(a,l,e)||e},f),c&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(c):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,l,f),f=null),o)
e.default=p}),define("future-mobility-responses/components/cddl-visualization",["exports","@ember-decorators/object","@ember-decorators/service","@ember-decorators/object/computed","future-mobility-responses/gl"],function(e,t,r,n,o){function i(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u,s,c,f,d
function p(e,t,r,n,o){var i={}
return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(u=(0,n.mapBy)("questionCounts","total"),s=(0,t.computed)(""),c=function(e){function t(){var e,r,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u]
return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i(n,"router",f,n),i(n,"proportions",d,n),n._isSortedByCategory=!1,l(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Component),a(t,[{key:"handleClick",value:function(){}},{key:"didInsertElement",value:function(){for(var e,r=this,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];(e=function e(t,r,n){null===t&&(t=Function.prototype)
var o=Object.getOwnPropertyDescriptor(t,r)
if(void 0===o){var i=Object.getPrototypeOf(t)
return null===i?void 0:e(i,r,n)}if("value"in o)return o.value
var a=o.get
return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"didInsertElement",this)).call.apply(e,[this].concat(i))
var l=this.element.querySelector(".gl-container"),u=this.get("proportions"),s=l.appendChild(document.createElement("canvas"))
s.width=l.clientWidth,s.height=l.clientHeight
var c=s.getContext("webgl2"),f=(0,o.default)(c,s).setSize([s.width,s.height]).setInstances(3e3).setProportions(u).setMotionRadial(.3).setMotionAngular(.4).setDecay(.009).onClick(function(){r.handleClick.apply(r,arguments)},s)
this.get("visualizationEnabled")&&f(),this.set("glModule",f)}},{key:"isSortedByCategory",get:function(){return this.get("_isSortedByCategory")},set:function(e){this.get("glModule").separateByCat(e),this.set("_isSortedByCategory",e)}}]),t}(),f=p(c.prototype,"router",[r.service],{enumerable:!0,initializer:null}),d=p(c.prototype,"proportions",[u],{enumerable:!0,initializer:null}),p(c.prototype,"isSortedByCategory",[s],Object.getOwnPropertyDescriptor(c.prototype,"isSortedByCategory"),c.prototype),c)
e.default=O}),define("future-mobility-responses/controllers/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
var t=function(e){function t(){var e;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)
for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o]
var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)))
return i.visualizationEnabled=!0,i.queryParams=[{visualizationEnabled:{type:"boolean"}}],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ember.Controller),t}()
e.default=t}),define("future-mobility-responses/gl/config",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
e.OFFSET_LOCATION=0,e.ROTATION_LOCATION=1,e.POSITION_LOCATION=2,e.COLOR_LOCATION=3,e.AGE_LOCATION=4,e.INIT_OFFSET_LOCATION=5,e.PICKING_COLOR_LOCATION=6
var t=[213,14,80,255,207,1,76,183,72,28,77,161,147,38,143,230,132,139,255,233,166,154,207,141,144,153,205,191,142,192].map(function(e){return e/255})
e.COLOR_RAMP=t}),define("future-mobility-responses/gl/index",["exports","future-mobility-responses/gl/config","future-mobility-responses/gl/utils","future-mobility-responses/gl/shader","d3","three"],function(e,t,r,n,o,i){Object.defineProperty(e,"__esModule",{value:!0})
var a=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
e.default=function(e){var l=800,u=600,s=10,c=[1,1,1,1,1,1,1,1,1,1],f=.009,d=.5,p=1,O=1,_=0,m=(0,r.generateShuffledCategories)(c,s),b=!1,v=(0,r.compileShader)(e,n.vs,e.VERTEX_SHADER),A=(0,r.compileShader)(e,n.fs,e.FRAGMENT_SHADER),y=(0,r.createProgram)(e,v,A),g=(0,r.compileShader)(e,n.transformVs,e.VERTEX_SHADER),T=(0,r.compileShader)(e,n.transformFs,e.FRAGMENT_SHADER),E=(0,r.createProgram)(e,g,T,"v_offset","v_rotation","v_age"),h=e.getUniformLocation(y,"u_w"),R=e.getUniformLocation(y,"u_h"),C=e.getUniformLocation(y,"u_usePickingColor"),F=e.getUniformLocation(E,"u_time"),I=e.getUniformLocation(E,"u_w"),N=e.getUniformLocation(E,"u_h"),L=e.getUniformLocation(E,"u_decay"),P=e.getUniformLocation(E,"u_random_walk_speed"),S=e.getUniformLocation(E,"u_circular_speed"),B=e.getUniformLocation(E,"u_radial_speed"),x=(0,r.initVAOs)(e),w=x.vaos,M=x.tfs,j=x.buffers,D=e.createFramebuffer(),U=e.createTexture(),k=e.createRenderbuffer()
function z(){console.log("Run GLModule"),e.viewport(0,0,l,u),e.clearColor(0,0,0,1),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.useProgram(y),e.uniform1f(h,l),e.uniform1f(R,u),e.useProgram(E),e.uniform1f(I,l),e.uniform1f(N,u),e.uniform1f(L,f),e.uniform1f(P,d),e.uniform1f(S,p),e.uniform1f(B,O),V(j),function(t,r,n,o,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),t.texture=r,e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,o,i),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n)
var a=e.checkFramebufferStatus(e.FRAMEBUFFER)
if(console.log(a),e.FRAMEBUFFER_COMPLETE!==a)return console.log("Frame buffer object is incomplete: "+a.toString()),new Error
e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)}(D,U,k,l,u),G()}function G(){var r,n,o,i
r=(_+1)%2,n=w[_],o=M[r],i=j[r],e.useProgram(E),e.bindVertexArray(n),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,i[t.OFFSET_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,i[t.ROTATION_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,2,i[t.AGE_LOCATION]),e.vertexAttribDivisor(t.OFFSET_LOCATION,0),e.vertexAttribDivisor(t.ROTATION_LOCATION,0),e.vertexAttribDivisor(t.AGE_LOCATION,0),e.enable(e.RASTERIZER_DISCARD),e.uniform1f(F,Math.random()),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,s),e.endTransformFeedback(),e.disable(e.RASTERIZER_DISCARD),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),_=(_+1)%2,e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(y),e.uniform1f(C,0),e.bindVertexArray(w[_]),e.vertexAttribDivisor(t.OFFSET_LOCATION,1)
e.vertexAttribDivisor(t.ROTATION_LOCATION,1),e.vertexAttribDivisor(t.AGE_LOCATION,1),e.drawArraysInstanced(e.TRIANGLES,0,6,s),requestAnimationFrame(G)}function $(r){var n=new Float32Array(Array.from({length:s}).map(function(e,r){var n=m[r]?m[r]:0
return[t.COLOR_RAMP[3*n],t.COLOR_RAMP[3*n+1],t.COLOR_RAMP[3*n+2]]}).reduce(function(e,t){return e.concat(t)},[]))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.COLOR_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})}function Y(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=void(0,o.randomNormal)(.3,.2)
i?((0,o.pie)().padAngle(.3).sortValues(null)(c),f=new Float32Array((0,r.columnsLayout)(s,l,u,m,c))):f=new Float32Array((0,r.pieLayout)(s,l,u)),n.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.INIT_OFFSET_LOCATION]),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW),a&&(e.bindBuffer(e.ARRAY_BUFFER,r[t.OFFSET_LOCATION]),e.bufferData(e.ARRAY_BUFFER,f,e.STREAM_COPY))})}function V(r){(function(r){var n=new Float32Array([6,3.5,-6,3.5,-6,-3.5,-6,-3.5,6,-3.5,6,3.5])
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.POSITION_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})})(r),$(r),Y(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(){return 2*Math.random()*Math.PI}))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.ROTATION_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STREAM_COPY)})}(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(){return Math.random()}))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.AGE_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STREAM_COPY)})}(r),function(r){var n=new Float32Array(Array.from({length:s}).map(function(e,t){var r=(new i.Color).setHex(t)
return[r.r,r.g,r.b]}).reduce(function(e,t){return e.concat(t)},[]))
r.forEach(function(r){e.bindBuffer(e.ARRAY_BUFFER,r[t.PICKING_COLOR_LOCATION]),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})}(r)}return z.setSize=function(e){var t=a(e,2),r=t[0],n=t[1]
return l=r,u=n,this},z.setInstances=function(e){return s=e,m=(0,r.generateShuffledCategories)(c,s),V(j),this},z.setProportions=function(e){return c=e,m=(0,r.generateShuffledCategories)(c,s),$(j),Y(j,b,!1),this},z.separateByCat=function(e){return Y(j,b=e,!1),this},z.onClick=function(r,n){return n.addEventListener("click",function(n){e.bindFramebuffer(e.FRAMEBUFFER,D),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(y),e.uniform1f(C,1),e.bindVertexArray(w[_]),e.vertexAttribDivisor(t.OFFSET_LOCATION,1),e.vertexAttribDivisor(t.ROTATION_LOCATION,1),e.vertexAttribDivisor(t.AGE_LOCATION,1),e.drawArraysInstanced(e.TRIANGLES,0,6,s)
var o=[n.clientX,u-n.clientY],i=o[0],a=o[1],l=new Uint8Array(4)
e.readPixels(i,a,1,1,e.RGBA,e.UNSIGNED_BYTE,l)
var c=l[0]<<16|l[1]<<8|l[2]
c&&r(c,m[c])}),this},z.setDecay=function(t){return f=t,e.useProgram(E),e.uniform1f(L,f),this},z.setMotionRandom=function(t){return d=t,e.useProgram(E),e.uniform1f(P,d),this},z.setMotionAngular=function(t){return p=t,e.useProgram(E),e.uniform1f(S,p),this},z.setMotionRadial=function(t){return O=t,e.useProgram(E),e.uniform1f(B,O),this},z.log=function(){return console.groupCollapsed("GLModule:update"),console.log("Width: "+l),console.log("Height: "+u),console.log("Proportions: "+c),console.log("Instance count: "+s),console.groupEnd(),this},z}}),define("future-mobility-responses/gl/shader",["exports","future-mobility-responses/gl/config"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.transformFs=e.transformVs=e.fs=e.vs=void 0
var r="#version 300 es\n  #define OFFSET_LOCATION "+t.OFFSET_LOCATION+"\n  #define ROTATION_LOCATION "+t.ROTATION_LOCATION+"\n  #define POSITION_LOCATION "+t.POSITION_LOCATION+"\n  #define COLOR_LOCATION "+t.COLOR_LOCATION+"\n  #define AGE_LOCATION "+t.AGE_LOCATION+"\n  #define INIT_OFFSET_LOCATION "+t.INIT_OFFSET_LOCATION+"\n  #define PICKING_COLOR_LOCATION "+t.PICKING_COLOR_LOCATION+"\n\n  #define M_2PI 6.28318530718\n\n  precision highp float;\n  precision highp int;\n\n  uniform float u_w;\n  uniform float u_h;\n  uniform float u_usePickingColor;\n\n  layout(location = OFFSET_LOCATION) in vec2 a_offset;\n  layout(location = ROTATION_LOCATION) in float a_rotation;\n  layout(location = POSITION_LOCATION) in vec2 a_position;\n  layout(location = COLOR_LOCATION) in vec3 a_color;\n  layout(location = AGE_LOCATION) in float a_age;\n  layout(location = PICKING_COLOR_LOCATION) in vec3 a_picking_color;\n\n  out vec3 v_color;\n  out float v_alpha;\n\n  void main(){\n    //convert float rotation into a mat2 rotation matrix\n    float cos_r = cos(a_rotation);\n    float sin_r = sin(a_rotation);\n    mat2 rot = mat2(\n      cos_r, sin_r,\n      -sin_r, cos_r\n    );\n\n    vec2 position = rot * a_position + a_offset;\n    position = vec2(\n      position.x / u_w * 2.0 - 1.0,\n      1.0 - position.y / u_h * 2.0\n    );\n\n    gl_Position = vec4(position, 0.0, 1.0);\n\n    v_color = a_color;\n    if(u_usePickingColor > 0.0){\n      v_color = a_picking_color;\n    }\n    v_alpha = sin(a_age * M_2PI / 2.0);\n    if(u_usePickingColor > 0.0){\n      v_alpha = 1.0;\n    }\n  }\n",n="#version 300 es\n  #define OFFSET_LOCATION "+t.OFFSET_LOCATION+"\n  #define ROTATION_LOCATION "+t.ROTATION_LOCATION+"\n  #define AGE_LOCATION "+t.AGE_LOCATION+"\n  #define INIT_OFFSET_LOCATION "+t.INIT_OFFSET_LOCATION+"\n  #define M_2PI 6.28318530718\n\n  #define WANDER_CIRCLE_R 0.01\n  #define WANDER_CIRCLE_OFFSET 0.04\n  #define RANDOM_WALK_DELTA 0.5\n  #define CIRCULAR_DELTA 1.0\n  #define DECAY 0.005\n\n  precision highp float;\n  precision highp int;\n\n  uniform float u_time;\n  uniform float u_w;\n  uniform float u_h;\n  uniform float u_random_walk_speed;\n  uniform float u_circular_speed;\n  uniform float u_radial_speed;\n  uniform float u_decay;\n\n  layout(location = OFFSET_LOCATION) in vec2 a_offset;\n  layout(location = ROTATION_LOCATION) in float a_rotation;\n  layout(location = AGE_LOCATION) in float a_age;\n  layout(location = INIT_OFFSET_LOCATION) in vec2 a_init_offset;\n  \n  //These three varyings are transformFeedback outputs\n  out vec2 v_offset;\n  out float v_rotation;\n  out float v_age;\n\n  float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n  }\n\n  void main(){\n    float theta = M_2PI * rand(vec2(u_time, a_rotation + a_offset.x + a_offset.y));\n\n    //create 2D rotation matrix from current a_rotation\n    float cos_r = cos(a_rotation);\n    float sin_r = sin(a_rotation);\n    mat2 rot = mat2(\n        cos_r, sin_r,\n        -sin_r, cos_r\n    );\n\n    //RANDOM WALK\n    //compute target vec2 to move towards at each step\n    vec2 p = WANDER_CIRCLE_R * vec2(cos(theta), sin(theta)) + vec2(WANDER_CIRCLE_OFFSET, 0.0);\n    vec2 target = normalize(rot * p);\n    //Move each particle towards target, and record rotation\n    v_rotation = atan(target.y, target.x);\n    v_offset = a_offset + u_random_walk_speed * target;\n\n    //CIRCULAR MOTION\n    vec2 tangent = cross(\n      vec3(a_offset.x - u_w/2.0, a_offset.y - u_h/2.0, 0.0), \n      vec3(0.0, 0.0, 1.0)\n    ).xy;\n    v_offset = v_offset + u_circular_speed * normalize(tangent);\n\n    //RADIAL MOTION\n    //Accelerate from center then gradually slow down\n    vec2 radial = vec2(a_offset.x - u_w/2.0, a_offset.y - u_h/2.0);\n    float radialDistanceToCenter = length(radial);\n    radial = normalize(radial);\n    v_offset = v_offset + u_radial_speed * radial * (1.0 - radialDistanceToCenter / u_h);\n\n    //Output new v_age\n    v_age = a_age + u_decay;\n    if(v_age > 1.0){\n      v_age = 0.0;\n      v_offset = a_init_offset;\n    }\n\n    gl_Position = vec4(v_offset, 0.0, 1.0);\n  }\n"
e.vs=r,e.fs="#version 300 es\n  #define ALPHA 1.0\n  \n  precision highp float;\n  precision highp int;\n\n  in vec3 v_color;\n  in float v_alpha;\n\n  out vec4 color;\n\n  void main(){\n    color = vec4(v_color, v_alpha);\n  }\n",e.transformVs=n,e.transformFs="#version 300 es\n  void main(){\n    //no-op, since we don't render fragments during transform feedback step\n  }\n"}),define("future-mobility-responses/gl/utils",["exports","future-mobility-responses/gl/config","d3"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.columnsLayout=e.pieLayout=e.generateShuffledCategories=e.initVAOs=e.createProgram=e.compileShader=void 0
var n=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0
try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
e.compileShader=function(e,t,r){var n=e.createShader(r)
e.shaderSource(n,t),e.compileShader(n)
var o=e.getShaderInfoLog(n)
return o&&(console.log(o),console.log(t)),n},e.createProgram=function(e,t,r){for(var n=arguments.length,o=Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i]
var a=e.createProgram()
e.attachShader(a,t),e.attachShader(a,r),o.length&&e.transformFeedbackVaryings(a,o,e.SEPARATE_ATTRIBS),e.linkProgram(a)
var l=e.getProgramInfoLog(a)
return l&&console.log(l),a},e.initVAOs=function(e){for(var r=[e.createVertexArray(),e.createVertexArray()],n=[e.createTransformFeedback(),e.createTransformFeedback()],o=new Array(r.length),i=0;i<r.length;i++){var a=r[i],l=n[i]
o[i]=new Array(7)
var u=o[i]
e.bindVertexArray(a),u[t.OFFSET_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.OFFSET_LOCATION]),e.vertexAttribPointer(t.OFFSET_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.OFFSET_LOCATION),e.vertexAttribDivisor(t.OFFSET_LOCATION,1),u[t.ROTATION_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.ROTATION_LOCATION]),e.vertexAttribPointer(t.ROTATION_LOCATION,1,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.ROTATION_LOCATION),e.vertexAttribDivisor(t.ROTATION_LOCATION,1),u[t.POSITION_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.POSITION_LOCATION]),e.vertexAttribPointer(t.POSITION_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.POSITION_LOCATION),u[t.COLOR_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.COLOR_LOCATION]),e.vertexAttribPointer(t.COLOR_LOCATION,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.COLOR_LOCATION),e.vertexAttribDivisor(t.COLOR_LOCATION,1),u[t.AGE_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.AGE_LOCATION]),e.vertexAttribPointer(t.AGE_LOCATION,1,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.AGE_LOCATION),e.vertexAttribDivisor(t.AGE_LOCATION,1),u[t.INIT_OFFSET_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.INIT_OFFSET_LOCATION]),e.vertexAttribPointer(t.INIT_OFFSET_LOCATION,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.INIT_OFFSET_LOCATION),e.vertexAttribDivisor(t.INIT_OFFSET_LOCATION,0)
u[t.PICKING_COLOR_LOCATION]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u[t.PICKING_COLOR_LOCATION]),e.vertexAttribPointer(t.PICKING_COLOR_LOCATION,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.PICKING_COLOR_LOCATION),e.vertexAttribDivisor(t.PICKING_COLOR_LOCATION,1),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,l),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,u[t.OFFSET_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,u[t.ROTATION_LOCATION]),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,2,u[t.AGE_LOCATION]),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}return{vaos:r,tfs:n,buffers:o}}
e.generateShuffledCategories=function(e,t){for(var r=e.reduce(function(e,t){return e+t},0),n=e.map(function(e,n){return Array.from({length:Math.ceil(e/r*t)}).map(function(e){return n})}).reduce(function(e,t){return e.concat(t)},[]),o=[],i=0;i<t;i++)o.push(n[Math.round(Math.random()*n.length)])
return o}
var o=(0,r.randomNormal)(.3,.2)
e.pieLayout=function(e,t,i,a,l){if(a){var u=(0,r.pie)().padAngle(.3).sortValues(null)(l)
return Array.from({length:e}).map(function(e,t){var r=a[t]?a[t]:0,n=u[r],l=n.startAngle,s=n.endAngle,c=l+Math.random()*(s-l)
return[(o()+.5)*i/2,c]}).map(function(e){var r=n(e,2),o=r[0],a=r[1]
return[o*Math.cos(a)+t/2,o*Math.sin(a)+i/2]}).reduce(function(e,t){return e.concat(t)},[])}return Array.from({length:e}).map(function(){return[(o()+.5)*i/2,Math.random()*Math.PI*2]}).map(function(e){var r=n(e,2),o=r[0],a=r[1]
return[o*Math.cos(a)+t/2,o*Math.sin(a)+i/2]}).reduce(function(e,t){return e.concat(t)},[])},e.columnsLayout=function(e,t,n,o,i){!(arguments.length>5&&void 0!==arguments[5])||arguments[5]
var a=(0,r.scaleLinear)().domain([0,(0,r.max)(i)]).range([0,t-40]),l=(n-10*(i.length+1))/i.length,u=i.map(function(e,r){var n=10+r*(10+l),o=n+l,i=a(e)
return{x0:t/2-i/2,x1:t/2+i/2,y0:n,y1:o}})
return Array.from({length:e}).map(function(e,t){var r=o[t]?o[t]:0,n=u[r],i=n.x0,a=n.x1,l=n.y0,s=n.y1
return[i+Math.random()*(a-i),l+Math.random()*(s-l)]}).reduce(function(e,t){return e.concat(t)},[])}}),define("future-mobility-responses/helpers/app-version",["exports","future-mobility-responses/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,r){function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.default.APP.version,i=n.versionOnly||n.hideSha,a=n.shaOnly||n.hideVersion,l=null
return i&&(n.showExtended&&(l=o.match(r.versionExtendedRegExp)),l||(l=o.match(r.versionRegExp))),a&&(l=o.match(r.shaRegExp)),l?l[0]:o}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=n,e.default=Ember.Helper.helper(n)}),define("future-mobility-responses/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","future-mobility-responses/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0})
var n=void 0,o=void 0
r.default.APP&&(n=r.default.APP.name,o=r.default.APP.version),e.default={name:"App Version",initialize:(0,t.default)(n,o)}}),define("future-mobility-responses/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("future-mobility-responses/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("future-mobility-responses/initializers/export-application-global",["exports","future-mobility-responses/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var r
if("undefined"!=typeof window)r=window
else if("undefined"!=typeof global)r=global
else{if("undefined"==typeof self)return
r=self}var n,o=t.default.exportApplicationGlobal
n="string"==typeof o?o:Ember.String.classify(t.default.modulePrefix),r[n]||(r[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[n]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("future-mobility-responses/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("future-mobility-responses/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("future-mobility-responses/router",["exports","future-mobility-responses/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL})
r.map(function(){this.route("questions",{path:"/questions/:id"})}),e.default=r}),define("future-mobility-responses/routes/application",["exports","fetch","future-mobility-responses/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var o=r.default.host,i=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Ember.Route),n(r,[{key:"model",value:function(){return(0,t.default)(o+"/qcount/?format=json").then(function(e){return e.json()})}}]),r}()
e.default=i}),define("future-mobility-responses/routes/questions",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var r=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Ember.Route),t(r,[{key:"model",value:function(e){var t=e.id
return this.modelFor("application").find(function(e){return""+e.q===t})}}]),r}()
e.default=r}),define("future-mobility-responses/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("future-mobility-responses/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"JOk1uuo0",block:'{"symbols":[],"statements":[[1,[27,"cddl-visualization",null,[["questionCounts","visualizationEnabled"],[[23,["model"]],[23,["visualizationEnabled"]]]]],false],[0,"\\n\\n"],[1,[21,"outlet"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/application.hbs"}})}),define("future-mobility-responses/templates/components/cddl-navigation",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"mUQqZtx7",block:'{"symbols":["category","index"],"statements":[[7,"nav"],[11,"id","circle-nav-wrapper"],[11,"class","circle-nav-wrapper"],[9],[0,"\\n  "],[7,"div"],[11,"class","circle-nav-toggle"],[11,"id","toggle"],[3,"action",[[22,0,[]],"handleToggleClick"]],[9],[0,"\\n    "],[7,"i"],[11,"class","material-icons"],[9],[0,"add"],[10],[0,"\\n  "],[10],[0,"\\n  "],[7,"div"],[11,"class","circle-nav-panel"],[9],[10],[0,"\\n  "],[7,"ul"],[11,"class","circle-nav-menu"],[9],[0,"\\n"],[4,"each",[[23,["categories"]]],null,{"statements":[[4,"link-to",["questions",[22,2,[]]],null,{"statements":[[0,"        "],[7,"li"],[12,"class",[28,["circle-nav-item circle-nav-item-",[22,2,[]]]]],[12,"id",[22,1,[]]],[9],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"  "],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/cddl-navigation.hbs"}})}),define("future-mobility-responses/templates/components/cddl-visualization",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"MSgizq9X",block:'{"symbols":[],"statements":[[7,"div"],[11,"class","gl-container"],[9],[10],[0,"\\n\\n"],[1,[27,"cddl-navigation",null,[["isSortedByCategory"],[[23,["isSortedByCategory"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/components/cddl-visualization.hbs"}})}),define("future-mobility-responses/templates/questions",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"8TLK/gfi",block:'{"symbols":[],"statements":[[7,"div"],[11,"id","car-container"],[11,"class","answer-container"],[9],[0,"\\n  "],[7,"div"],[11,"class","smol"],[9],[7,"img"],[11,"src","img/up_arrow-b90d5f1017ebae918214c136be8fca68.png"],[9],[10],[10],[0,"\\n  "],[7,"div"],[11,"id","car-answer-1"],[9],[7,"img"],[11,"src","img/car1/1-7379421c28be92da2c832c0c0d71282f.png"],[9],[10],[7,"h1"],[9],[0,"own a car"],[10],[10],[0,"\\n  "],[7,"div"],[11,"id","car-answer-2"],[9],[7,"img"],[11,"src","img/car1/2-909b3385c53415ce10ed7498f9e48a9e.png"],[9],[10],[7,"h1"],[9],[0,"own an autonomous car"],[10],[10],[0,"\\n  "],[7,"div"],[11,"id","car-answer-3"],[9],[7,"img"],[11,"src","img/car1/3-e495362d3e38730973dcd396b678adb4.png"],[9],[10],[7,"h1"],[9],[0,"lease a car"],[10],[10],[0,"\\n  "],[7,"div"],[11,"id","car-answer-4"],[9],[7,"img"],[11,"src","img/car1/4-c396553bf601f70b8c8c03d1dbbd7cbf.png"],[9],[10],[7,"h1"],[9],[0,"lease an autonomous car"],[10],[10],[0,"\\n  "],[7,"div"],[11,"class","smol"],[9],[7,"img"],[11,"src","img/down_arrow-50b95f8c937056d750c80775d70ba972.png"],[9],[10],[10],[0,"\\n"],[10],[0,"\\n\\n"],[7,"div"],[11,"class","card-placeholder hidden"],[11,"id","car-cards"],[9],[0,"\\n  "],[7,"img"],[11,"src","img/car1/card-02-efa94b810e467a2db7c12ae3b55c7ece.jpg"],[9],[10],[0,"\\n"],[10],[0,"\\n\\n"],[1,[21,"outlet"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"future-mobility-responses/templates/questions.hbs"}})}),define("future-mobility-responses/config/environment",[],function(){try{var e="future-mobility-responses/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(unescape(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(n){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("future-mobility-responses/app").default.create({name:"future-mobility-responses",version:"0.0.0+9f47e84b"})
